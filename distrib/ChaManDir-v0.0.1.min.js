function Cha(a){this._constructor=ChaManDir.evolve(Base,a)}function Base(){this.initialize&&this.initialize.apply(this,arguments)}var chamandir=function(){};chamandir.prototype={settings:{},clone:function(a){function b(){Cha.apply(this,arguments)}return b.prototype=new a,b},evolve:function(a,b){var c=this.clone(a),d={_super_:c.prototype._super_||null};for(var e in b)"function"==typeof b[e]&&this.possess(c,e)&&"_super"!==e?(d[e]=c.prototype[e],c.prototype[e]=this._super(e,b[e])):c.prototype[e]=b[e];return c.prototype._super_=d,c},_super:function(a,b){return function(){this._method=a,this._arguments=arguments,console.log(a,b.toString());var c=b.apply(this,arguments);return delete this._method,delete this._arguments,delete this.__supper__,c}},possess:function(a,b){for(var c=a.prototype;c;){if(c[b])return!0;c=c._super}return!1},define:function(a){return new ChaManDir.Cha(a)},log:function(a,b){console.log(a),b&&console.log(b),console.log("######################")}},ChaManDir=new chamandir,Cha.prototype={create:function(){var a=new this._constructor;return a.initialize&&a.initialize.apply(a,arguments),a},evolve:function(a){var b=new ChaManDir.Cha;return b._constructor=ChaManDir.evolve(this._constructor,a),b},adopt:function(a,b){if(b)return this.adapt(a);var c=new ChaManDir.Cha;return c._constructor=this._adopt(a),c},_adopt:function(a){var b="function"==typeof a?a.prototype:a._constructor.prototype;return ChaManDir.evolve(this._constructor,b)},adapt:function(a){var b=this._adopt(a);return this._constructor=b,this}},ChaManDir.Cha=Cha,Base.prototype={_super:function(){for(var a,b=this.__supper__||this._super_;!a&&b;)a=b[this._method],b=b._super_,this.__supper__=b;return a?a.apply(this,this._arguments):void 0}},ChaManDir.Cha.Base=Base;